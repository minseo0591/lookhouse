<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>회원가입 - 이집봐라 | 부동산 중개 사이트</title>

  <!-- og -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="회원가입 - 이집봐라 | 부동산 중개 사이트" />
  <meta property="og:description" content="이집봐라에서 신규가입하고 지금 다양한 이벤트를 만나보세요.- 회원가입 | 이집봐라..." />
  <meta property="og:site_name" content="이집봐라" />

  <!-- twitter og -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="회원가입 - 이집봐라 | 부동산 중개 사이트" />
  <meta name="twitter:description" content="이집봐라에서 신규가입하고 지금 다양한 이벤트를 만나보세요.- 회원가입 | 이집봐라..." />

  <link rel="icon" href="./image/logo.png" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/swiper@6.8.4/swiper-bundle.min.css" />
  <link rel="stylesheet" href="./css/signup.css" />
  <link rel="stylesheet" href="./css/signup_com.css" />
  <link rel="stylesheet" href="./css/footer.css" />

  <script src="https://kit.fontawesome.com/0bca6ce86d.js" crossorigin="anonymous"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

  <style>
    .field-error {
      border-color: #dc3545;
      color: #dc3545;
    }
  </style>
</head>

<body>

    <!-- header 시작 -->
    <header th:replace="~{header/header}"></header>
    <!-- header 끝 -->
    <section class="signup">
      <h2 class="signup-title">회원가입</h2>

      <div class="signup-messages">
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <p>1인 가구 매물을 찾고 싶으면, 이집봐라</p>
            </div>
            <div class="swiper-slide">
              <p>나의 공간을 찾는 부동산 중개 사이트</p>
            </div>

            <div class="swiper-slide">
              <p>이집봐라에서 나만의 공간을 찾아보세요!</p>
            </div>
            <div class="swiper-slide">
              <p>나의 공간을 찾는 부동산 중개 사이트</p>
            </div>
          </div>
        </div>
      </div>

      <div class="signup-main">
        <form class="signup-form" th:action="@{signup}" th:object="${member}" method="post">
          <div class="form-input">
            <label for="user_id" class="form-label">아이디</label>
            <input id="user_id" th:field="*{user_id}" type="text" placeholder="example" class="form-control" th:errorclass="field-error" />
            <div class="field-error" th:errors="*{user_id}">
              아이디를 입력해주세요.
            </div>
          </div>

          <input type="button" class="btn btn-secondary" id="btnCheck"
                 value="중복확인"><span id="result"></span>

          <div class="signup-main">
              <div class="form-input">
                <label for="user_name" class="form-label">이름</label>
                <input id="user_name" th:field="*{user_name}" class="form-control" type="text" placeholder="홍길동" th:errorclass="field-error"/>
                <div class="field-error" th:errors="*{user_name}">
                  이름을 입력해주세요.
                </div>
              </div>


              <div class="form-input">
                <label for="user_pw" class="form-label">비밀번호</label>
                <div class="password-input">
                  <input type="password" id="user_pw" class="form-control" th:field="*{user_pw}" placeholder="******" th:errorclass="field-error"/>
                  <span class="password-eye">
                    <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                      <path fill="#212529"
                        d="M10.333 8c0 1.289-1.044 2.333-2.333 2.333C6.71 10.333 5.667 9.29 5.667 8 5.667 6.711 6.71 5.667 8 5.667c1.289 0 2.333 1.044 2.333 2.333z">
                      </path>
                      <path fill="#212529" fill-rule="evenodd"
                        d="M8 2.333c-2.288 0-4.083 1.023-5.37 2.16C1.348 5.63.544 6.902.22 7.469.03 7.8.03 8.2.22 8.533c.323.566 1.127 1.838 2.41 2.973 1.287 1.138 3.082 2.16 5.37 2.16 2.288 0 4.083-1.022 5.37-2.16 1.283-1.135 2.087-2.407 2.41-2.973.19-.333.19-.733 0-1.065-.323-.567-1.127-1.839-2.41-2.974-1.287-1.138-3.082-2.16-5.37-2.16zm-6.912 5.63c.295-.516 1.035-1.685 2.205-2.72C4.461 4.21 6.03 3.333 8 3.333c1.97 0 3.54.877 4.707 1.91 1.17 1.035 1.91 2.204 2.205 2.72.008.015.01.028.01.037 0 .01-.002.022-.01.037-.295.516-1.035 1.685-2.205 2.72-1.168 1.033-2.737 1.91-4.707 1.91-1.97 0-3.54-.877-4.707-1.91-1.17-1.035-1.91-2.204-2.205-2.72-.008-.015-.01-.028-.01-.037 0-.01.002-.022.01-.037z"
                        clip-rule="evenodd"></path>
                    </svg>
                  </span>
                </div>
                <div class="field-error" th:errors="*{user_pw}">
                  비밀번호를 입력해주세요.
                </div>
              </div>

              <div class="form-input">
                <label for="password-confirm" class="form-label">비밀번호 확인</label>
                <div class="password-input">
                  <input id="password-confirm" class="form-control" type="password" placeholder="******" />
                  <span class="password-eye">
                    <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                      <path fill="#212529"
                        d="M10.333 8c0 1.289-1.044 2.333-2.333 2.333C6.71 10.333 5.667 9.29 5.667 8 5.667 6.711 6.71 5.667 8 5.667c1.289 0 2.333 1.044 2.333 2.333z">
                      </path>
                      <path fill="#212529" fill-rule="evenodd"
                        d="M8 2.333c-2.288 0-4.083 1.023-5.37 2.16C1.348 5.63.544 6.902.22 7.469.03 7.8.03 8.2.22 8.533c.323.566 1.127 1.838 2.41 2.973 1.287 1.138 3.082 2.16 5.37 2.16 2.288 0 4.083-1.022 5.37-2.16 1.283-1.135 2.087-2.407 2.41-2.973.19-.333.19-.733 0-1.065-.323-.567-1.127-1.839-2.41-2.974-1.287-1.138-3.082-2.16-5.37-2.16zm-6.912 5.63c.295-.516 1.035-1.685 2.205-2.72C4.461 4.21 6.03 3.333 8 3.333c1.97 0 3.54.877 4.707 1.91 1.17 1.035 1.91 2.204 2.205 2.72.008.015.01.028.01.037 0 .01-.002.022-.01.037-.295.516-1.035 1.685-2.205 2.72-1.168 1.033-2.737 1.91-4.707 1.91-1.97 0-3.54-.877-4.707-1.91-1.17-1.035-1.91-2.204-2.205-2.72-.008-.015-.01-.028-.01-.037 0-.01.002-.022.01-.037z"
                        clip-rule="evenodd"></path>
                    </svg>
                  </span>
                </div>
              </div>
            <button type="submit" class="btn btn-primary">
              가입하기
            </button>
          </div>
        </form>
    </section>
    <!-- footer 시작 -->
    <footer th:replace="~{footer/footer}"></footer>
    <!-- footer 끝 -->


  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
    integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/swiper@6.8.4/swiper-bundle.min.js"></script>
  <script src="/js/signup.js"></script>

    <script type="text/javascript"
            src="https://code.jquery.com/jquery-3.4.1.js">
    </script>
    <script>
		$('#btnCheck').click(function() {
			if ($('#user_id').val() != '') {
				$.ajax({
					type : 'GET',
					url : 'http://localhost:8082/idCk?user_id='+$('#user_id').val(),
					success : function(result) {
						if (result == '0') {
							$('#result').text('사용 가능한 아이디입니다.');
						} else {
							$('#result').text('이미 사용중인 아이디입니다.');
						}
					},
					error : function(a, b, c) {
						console.log(a, b, c);
					}
				});
			} else {
				alert('아이디를 입력하세요.');
				$('#user_id').focus();
			}
		});
	</script>
</body>

</html>